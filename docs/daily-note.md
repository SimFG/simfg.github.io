---
title: 每日笔记
---

## 2022.11.25
- [epub 在线阅读](https://reader.ttsu.app/manage) [源码](https://github.com/ttu-ttu/ebook-reader)
- [模拟各种物联网开发板，比如树莓派 Pico、Arduino、ESP32等](https://wokwi.com/)
- [有意思的网站列表](https://github.com/zhaoolee/ins)
- [转义字符\b含义，如果在末尾，则只移动光标](https://blog.csdn.net/harryduanchina/article/details/90751355)
- [列出和诊断系统上当前运行的 Go 进程的工具](https://github.com/google/gops)
- [macbook 各种ascii码按键对应表](http://iks.cs.ovgu.de/~elkner/keyboard/mac/scancodes_MBP.html)

## 2022.11.24
- [homebrew 指定版本安装](https://www.jianshu.com/p/b8909508bb8e)
- [go pdf处理工具](https://github.com/unidoc/unipdf)
- [pdf 在线处理](https://foxyutils.com/)
- [go env设置不生效](https://tkstorm.com/posts-list/programming/lang/go/refs/go-env/)
- [go 自动化 控制桌面](https://github.com/go-vgo/robotgo)
- [文本生成流程图](https://github.com/terrastruct/d2)
- [输出特殊符号 ├┤ ╠╣](https://www.freecodecamp.org/chinese/news/alt-codes-special-characters-keyboard-symbols-windows-list/)

## 2022.11.23
- [可自由部署的笔记平台](https://github.com/usememos/memos)
- [极简博客](https://github.com/guidao/guidao.github.io)
- [终端输出的三种样式](https://guidao.github.io/termio.html)

## 2022.11.22
- [算法动画演示](https://github.com/algorithm-visualizer/algorithm-visualizer)

## 2022.11.21
- [go 新闻](https://github.com/gocn/news)
- [terminal 命令录制并生成gif图片](https://github.com/charmbracelet/vhs)
- [termial go游戏框架](https://github.com/JoelOtter/termloop)
- [go 终端图形库]
1. https://github.com/nsf/termbox-go
2. https://github.com/gdamore/tcell
- [cs 自学指南](https://github.com/PKUFlyingPig/cs-self-learning)
- [go 命令行参数映射成结构体](https://github.com/alexflint/go-arg)
- [go 键盘监听](https://github.com/eiannone/keyboard)

## 2022.11.20
- [go rune与byte区别](https://cloud.tencent.com/developer/article/1730052)

## 2022.11.18
- [go test可读性输出](https://github.com/gotestyourself/gotestsum)
- [go 高性能计时器](https://github.com/antlabs/timer)
- [公众号排版](https://www.mdnice.com/)
- [notesnook](https://github.com/streetwriters/notesnook) 一个开源的端对端加密的笔记服务，保证内容完全私密，即使泄漏也无法破解。它有 Web 端、桌面端、手机端。你可以用官方服务器，也可以自己架设服务器。
- [高性能 json转义]
1. 文章：https://chende.ren/2021/01/23121026-017-reflect.html
2. https://github.com/mailru/easyjson
3. https://github.com/json-iterator/go
- [go 控制台输入监听](https://github.com/chzyer/readline)
- [算法 求一个数组的所有排列组合](https://blog.csdn.net/qq_44830106/article/details/120723080)

## 2022.11.17
- [go 颜色输出](https://github.com/fatih/color)
1. https://cloud.tencent.com/developer/article/1142372
2. https://learnku.com/articles/26231
- [go cli 好看的工具](https://github.com/manifoldco/promptui)
- [ANSI 终端输出](https://learnku.com/articles/26231)

## 2022.11.16
- [去除图片背景 python包](https://github.com/danielgatis/rembg)
- [go 终端显示图片]
1. https://github.com/danielgatis/imgcat
2. https://github.com/eliukblau/pixterm
- [服务器管理](https://github.com/lwch/natpass)
- [博客主题](https://github.com/xianmin/hugo-theme-jane)
- 新想法：
1. 类似于 cobra 库，但是是持续交互
2. 命令补全
3. 类似于文件目录型的，多级命令可以上一级下一级

## 2022.11.15
- [go omitempty含义](https://old-panda.com/2019/12/11/golang-omitempty/)

## 2022.11.14
- [go template](https://www.jianshu.com/p/88bbf78ab043)
- [go 标准库](https://docs.kilvn.com/The-Golang-Standard-Library-by-Example/)
- [go中的线程模型](https://www.cnblogs.com/sunsky303/p/9115530.html)
- [go channel 是怎么样的](https://linux.cn/article-12984-1.html)

## 2022.11.13
- 图书网站
1. [https://www.jiumodiary.com/](https://www.jiumodiary.com/)
2. [https://xmsoushu.com/#/](https://xmsoushu.com/#/)
3. [https://manybooks.net/](https://manybooks.net/)
4. [https://www.tjxz.cc/](https://www.tjxz.cc/)
5. [https://sobooks.net/](https://sobooks.net/)
6. [https://libgen.li/](https://libgen.li/)
7. [http://www.textbooksfree.org/](http://www.textbooksfree.org/)
8. [https://openlibrary.org/](https://openlibrary.org/)
- [go面试宝典](https://golang.design/go-questions/)
- [Go 语言设计与实现](https://draveness.me/golang/)

## 2022.11.11
- [go logo合集](https://github.com/rfyiamcool/golang_logo)
- [go 单行输出不断更新](https://blog.csdn.net/Tangs_/article/details/88998799)
- [go 信号量处理](https://juejin.cn/post/7068226142611701791)
- [go 基础知识]
1. [go的协程相比线程，轻量在哪？](https://juejin.cn/post/7075201487508340767)
2. [怎么理解信道是协程的无锁通信方式](https://juejin.cn/post/7118248351803375624)

## 2022.11.10
- [go 爬虫](https://github.com/projectdiscovery/katana)
- [go 广告拦截](https://github.com/AdguardTeam/AdGuardHome)
- [消息处理](https://github.com/memphisdev/memphis-broker)
- [消息通知](https://github.com/binwiederhier/ntfy) 可以通过这个发送通知到手机或者电脑
- [下载器](https://github.com/monkeyWie/gopeed)
- [idea插件模版](https://github.com/JetBrains/intellij-platform-plugin-template)
- [美剧]
1. 绝命毒师
2. 越狱

## 2022.11.8
- [slice 详解](https://www.jianshu.com/p/354fce23b4f0)
- [go 编程专家](https://books.studygolang.com/GoExpertProgramming/)
- [go 高性能编程](https://geektutu.com/post/high-performance-go.html)
- [go cache](https://github.com/golang/groupcache)
- [机器学习](https://github.com/wuwenjie1992/mystars)
- [网络监控](https://github.com/safing/portmaster)
- [tiny-etcd]
目标，复刻etcd，一个非分布式的数据库，去除繁琐的功能，进行功能精简
1. 去除raft
2. 去除auth
3. 去除cluster

## 2022.11.7
- [go文章系列](https://chende.ren/tags/GoStudy/page/3/)

## 2022.11.4
- [不错的ai项目](https://github.com/girls-in-ai/Girls-In-AI)

## 2022.11.3
- [zap简单配置](https://www.liwenzhou.com/posts/Go/zap/)

## 2022.11.2
- [idea个性设置](https://juejin.cn/post/6959189361623564325)
- [深度学习案例](https://github.com/NVIDIA/DeepLearningExamples)

## 2022.10.29
- [有意思的博客](https://halfrost.com/archives/)

## 2022.10.28
- [go 打印 %v %+v %#v 的区别]
1. %v 只输出所有的值，like：a=&{1, xiaoming}
2. %+v 先输出字段名字，再输出该字段的值，like：a=&{id: 1, name: xiaoming}
3. %#v 先输出结构体名字值，再输出结构体（字段名字+字段的值），like：a=&main.Student{id: 1, name: xiaoming}


## 2022.10.26
- [go 语法树解析库](https://github.com/antonmedv/expr)
- [答疑社区](https://github.com/answerdev/answer)

## 2022.10.24
- [goland 博客](https://blog.jetbrains.com/go/) 可以看到goland编辑器的新功能

## 2022.10.23
- [在线http api调试](https://httpie.io/app)
- [一个免费的云服务，提供 SQL 缓存](https://readyset.io/blog/readyset-core)
- [自部署的git服务](https://github.com/theonedev/onedev)
- [笔记](https://stormah.com/) 一个简易的网页笔记，可以指定远程 Git 仓库作为后端。你在浏览器里做笔记，储存到远程的 Git 仓库。

## 2022.10.20
- [go 工具类](https://github.com/samber/lo) 比如说map/slice/string/math等

## 2022.10.19
- [c++周刊](https://github.com/wanghenshui/cppweeklynews)
- [go线程池](https://github.com/Jeffail/tunny)
- [go并发map](https://github.com/orcaman/concurrent-map)
- [k8s 笔记](https://github.com/overnote/awesome-kubernetes-notes)
- [go 第三方库集合](https://github.com/avelino/awesome-go)
- [Makefile中.PHONY的作用](https://www.cnblogs.com/idorax/p/9306528.html)
- cmake 依赖第三方库，同时编译其源文件
1. sh链接到相应的cmakelist.txt
其中SCRIPTS_DIR表示当前路径，CMAKE_DIR表示需要编译的CMakeLists.txt目录，BUILD_OUTPUT_DIR表示cmake输出目录
```
SCRIPTS_DIR=$(dirname "$0")
CMAKE_DIR="${SCRIPTS_DIR}/../cmake"
BUILD_OUTPUT_DIR="${SCRIPTS_DIR}/../cmake-build"

mkdir -p ${BUILD_OUTPUT_DIR}
pushd ${BUILD_OUTPUT_DIR}
cmake ${CMAKE_DIR}
popd
```
2. 通过cmakelist获取第三方库，已protobuf为例
其中FetchContent_Declare只是声明，如果不执行其他的指令将会获取文件，
FetchContent_Populate调用后，将会把变量protobuf_POPULATED进行赋值，保证不会不会执行第二次
add_subdirectory，获取相应的文件，并进行初步编译，这样并不会生出二进制文件，而是生出一系列的make指令
```
set( PROTOBUF_SOURCE_URL
     "https://github.com/protocolbuffers/protobuf/releases/download/v3.9.0/protobuf-cpp-3.9.0.zip" )

message( STATUS "Building protobuf-cpp-3.9.0 from source" )

FetchContent_Declare( protobuf
    URL             ${PROTOBUF_SOURCE_URL}
    URL_MD5         "9562b27cc6ac5ebd087f201f1310c885"
    DOWNLOAD_DIR    ${CMAKE_CURRENT_BINARY_DIR}/../3rdparty_download
    SOURCE_DIR      ${CMAKE_CURRENT_BINARY_DIR}/protobuf-src
    BINARY_DIR      ${CMAKE_CURRENT_BINARY_DIR}/protobuf-build
)

set( protobuf_BUILD_TESTS CACHE BOOL OFF FORCE )
set( protobuf_WITH_ZLIB CACHE BOOL OFF FORCE )
if ( NOT protobuf_POPULATED )
    FetchContent_Populate( protobuf )

    # Adding the following targets:
    # protobuf::libprotobuf - static target
    # protobuf::protoc - executable target
    add_subdirectory( ${protobuf_SOURCE_DIR}/cmake
                      ${protobuf_BINARY_DIR}
                      EXCLUDE_FROM_ALL )
endif()
```
3. 在第一个sh文件中添加相应的make，如
```

SCRIPTS_DIR=$(dirname "$0")
CMAKE_DIR="${SCRIPTS_DIR}/../cmake"
BUILD_OUTPUT_DIR="${SCRIPTS_DIR}/../cmake-build"

mkdir -p ${BUILD_OUTPUT_DIR}
pushd ${BUILD_OUTPUT_DIR}
cmake ${CMAKE_DIR}

# 新添加的两行
make -j ${jobs} protoc
make -j ${jobs} install/local

popd
```

## 2022.10.15
- [maccy mac剪切板管理工具](https://github.com/p0deje/Maccy)
- [mac 在状态栏查看文件 Folder Peek]

## 2022.10.14
- [go范型](https://segmentfault.com/a/1190000041634906)

## 2022.10.11
- [bash脚本](https://github.com/dylanaraps/pure-bash-bible)

## 2022.10.10
- [算法](https://github.com/aialgorithm/Blog)
- [算法资料](https://github.com/aialgorithm/AiPy)

## 2022.10.8
- go 命令
```
 go list -m github.com/milvus-io/milvus/api 查看go.mod下的版本
 go list -m all 所有依赖
 go list -m github.com/milvus-io/milvus/api@2c92ce0 获取依赖的版本号
 go list -m -versions github.com/etcd-io/etcd 获取etcd下所有的可用的依赖版本

 go mod edit 通过脚本编辑mod文件
 go mod edit -replace=github.com/milvus-io/milvus/api=github.com/SimFG/milvus/api@latest
 go mod tidy
 
 go get -u github.com/milvus-io/milvus/api 升级最新版本
 
```
- shell 
```
// 判断git本地是否存在分支
if git rev-parse --verify <branch_name>;then
     存在该分支
else
     不存在该分支
fi

// 判断远程是否存在分支
if git fetch origin $branch >/dev/null 2>&1; then
  存在该分支
else
  不存在该分支
fi

// 判断方式是否存在修改is
if [ -n "$(git status -s)" ];then
    git add .
    git commit -m "update file"
    git push origin master
fi

// 命令行参数
while getopts ":a:b:c:" opt
do
    case $opt in
        a)
        echo "参数a的值$OPTARG"
        ;;
        b)
        echo "参数b的值$OPTARG"
        ;;
        c)
        echo "参数c的值$OPTARG"
        ;;
        ?)
        echo "未知参数"
        exit 1;;
    esac
done

// 参数数量判断
if [ $# -gt 0 ];then
  branch=$1
fi

// 获取远程仓库commitID
// master分支: refs/heads/master
// tag: refs/tags/2.1.1
commitID=$(git ls-remote https://github.com/milvus-io/milvus.git refs/heads/master | cut -f 1)

 git config --get remote.origin.url 查看origin remote的url
 
 git rev-parse --abbrev-ref HEAD 获取当前分支
 
 echo "https://github.com/SimFG/milvus.git" | awk -F'://|@' '{print $2}' 字符串切割，获得github.com/SimFG/milvus.git
 
```

## 2022.9.29
- [go覆盖率测试模版](https://github.com/codecov/example-go)

## 2022.9.28
- [插件](http://oopsguy.com/2017/10/27/the-ultimate-guide-to-writing-a-go-tool/) [bak](https://colobu.com/2017/12/12/The-ultimate-guide-to-writing-a-Go-tool/)
- [go online](https://go.dev/play/)

## 2022.9.27
- [博客theme](https://github.com/kitian616/jekyll-TeXt-theme)
- [书单](https://strikefreedom.top/archives/reading-list)

## 2022.9.26
- [zstd](https://segmentfault.com/a/1190000039300144) 一种压缩工具
- [linux 120条命令](https://github.com/mingongge/Learn-a-Linux-command-every-day)
- mock生成
```
//go:generate mockery --name=ICollectionDb
 mockery --all
```

## 2022.9.22
- [图书](https://www.book123.info/)
- [分布式存储](https://www.storj.io/), 提供分布式云存储服务，可以用作文件备份，免费账户有每月 150GB 的存储空间和流量。

## 2022.9.20
- 工具
1. 线性拟合工具
- https://atool.vip/fitting/
- https://www.graphpad.com/quickcalcs/linear1/

## 2022.9.19
- [go更新私有变量](https://www.jianshu.com/p/7b3638b47845)

## 2022.9.15
- go指令
```
go get 指定commit 版本
go get github.com/xxx/xxx@commit-id

go clean -modcache
go mod tidy
```

## 2022.9.13
- [go reading](https://github.com/geektutu)
- go 插件
1. go plugin: https://mojotv.cn/go/golang-plugin-tutorial
2. go hook: https://www.cnblogs.com/catch/p/10973611.html

## 2022.8.31
- [漂亮的画图工具](https://excalidraw.com/)

## 2022.8.26
- 股票仓库
1. https://github.com/shidenggui/easyquotation
2. https://github.com/hugo2046/Quantitative-analysis
3. https://github.com/wangshub/RL-Stock
- [机器学习引导书](http://inter.keybook.datawhale.club/#/)
- [数学网](https://www.shuxuele.com/)
- [nlp资料整理](http://www.singleye.net/2019/09/nlp-%E8%B5%84%E6%BA%90%E6%95%B4%E7%90%86/)

## 2022.8.24
- AI
1. CNN - Convolutional neural network (卷积神经网络)
2. RNN - Recurrent neural network (循环神经网络)
3. GAN - Generative adversarial networks (生成对抗网络)
- [中国大百科全书](https://www.zgbk.com/)

## 2022.8.22
- minio
1. [系统结构](https://fengmeng.xyz/p/go-minio/)
2. [doc](http://docs.minio.org.cn/docs/)
3. 对接KMS(Key Manager Service)
- SSE(Server Side Encryption)，实现-https://github.com/minio/kes#kes
4. 支持对接的STS(Security Token Service)-一种终结点服务，使客户端可以请求MinIO资源的临时凭据
- Keycloak
- Casdoor
5. Veeam - 备份、恢复及数据管理解决方案领域的领军者，能够提供卓越的现代数据保护

## 2022.8.17
- [股票指标实现](https://github.com/jealous/stockstats)

## 2022.8.11
- [数据库 oltp olap](https://blog.csdn.net/coslay/article/details/46402285)
- 股票数据
1. https://www.aigaogao.com/tools/history.html
2. git https://github.com/bosspen1/stock
3. git https://github.com/ricequant/rqalpha
- [go checksum mismatch](http://www.wu.run/2021/05/16/checksum-mismatch-error/)

## 2022.8.10
- pulsar io
1. [source sink 介绍](https://blog.csdn.net/qq_37865420/article/details/115375052)
2. [processing guarantees](https://www.jianshu.com/p/6077325efa01)
- pulsar sql
1. [sql 介绍](https://cloud.tencent.com/developer/article/1798020)
- pulsar tiered storage
1. [分层存储](https://www.jianshu.com/p/2bb9f347db35)

## 2022.8.8
- pulsar schema
1. [schema 入门](https://juejin.cn/post/6844904065411858439)
2. [schema 进阶](https://juejin.cn/post/6844904065411842055)
3. [schema 演化与相容性](https://juejin.cn/post/6844904065416052750)
4. [schema 管理](https://juejin.cn/post/6844904066032615438)
- pulsar function
1. [function 介绍](https://segmentfault.com/a/1190000039302581)

## 2022.8.6
- [pulsar 消息特性]
1. https://www.jianshu.com/p/d3656d6ab970
2. https://blog.csdn.net/weixin_41358004/article/details/118925731
- [pulsar 地域复制]
1. https://www.infoq.cn/article/apache-pulsar-geo-replication-part01/
2. https://www.infoq.cn/article/apache-pulsar-geo-replication-part02

## 2022.8.5
- [电脑组装配件](https://zhuanlan.zhihu.com/p/60381178)
- [水冷散热器](https://zhuanlan.zhihu.com/p/265905796)
- [pulsar](https://blog.csdn.net/wt334502157/article/details/117414153)

## 2022.7.20
- [etcd proxy实现可伸缩](https://bbs.huaweicloud.com/blogs/266992)
- grpc 请求代理：Envoy 在传输层和应用层都提供对 gRPC 的一流支持
- [pprof一文了解如何分析](https://juejin.cn/post/6844904079525675016#heading-16)
- [go的逃逸分析](https://zhuanlan.zhihu.com/p/386769009)
- [bloom filter 深入浅出](https://zhuanlan.zhihu.com/p/140545941)
- [bitset使用](https://segmentfault.com/a/1190000042181183)
- mac 查看文件位置 `locate xxx.txt`
- [字节序 大端与小端](https://www.ruanyifeng.com/blog/2022/06/endianness-analysis.html)
- [go 实现bitset](https://cloud.tencent.com/developer/article/1539286)
- [神奇的德布鲁因序列](https://halfrost.com/go_s2_de_bruijn/)

## 2022.7.18
- [go多版本管理](https://learnku.com/go/wikis/61549)
- 查看操作系统信息 `uname -i`
- 模拟磁盘io `fio`工具，查看io信息，`iostat`
- [模拟网络延时 `netem`](https://wiki.linuxfoundation.org/networking/netem)
- [go 内存分析 pprof](https://geektutu.com/post/hpg-pprof.html)

## 2022.7.14
- [短文本快速检测](https://blog.csdn.net/Taobaojishu/article/details/125213755)
- effective-click
1. 判断当前是否是搜索结果页
2. 获取搜索结果页的链接
3. 请求结果页的内容，然后取出html标签
4. 内容对比，计算重复率
5. 重复率显示

## 2022.7.13
### 画图工具
- https://www.omnigroup.com/omnigraffle

### minio
- [minio 介绍](https://www.modb.pro/db/196301)

## 2022.7.11
- 查看go某个库可安装版本 go list -m -versions 
- 初始化go项目 go mod init hello.com/etcd_test
- linux 安装 apt-get / yum install
- linux 查看系统信息 uname

## 2022.7.7
### [podman](https://github.com/containers/podman)
与docker功能类似
- [podman 介绍](https://xie.infoq.cn/article/a7254c5d64fcb3be8d6822415)
- [podman 基础介绍](https://segmentfault.com/a/1190000041173604)

## 2022.7.6
### etcd
- [各种version](https://www.modb.pro/db/79479)
- [etcd系列文章](https://juejin.cn/user/3491704659786455)
- [grpc 使用etcd做服务发现](https://www.cnblogs.com/ricklz/p/15059497.html)
- [etcd 使用笔记](https://luanlengli.github.io/2018/12/22/etcd%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html)
- [etcd 功能概览](https://fanlv.wiki/2021/04/11/note/etcd/#Lease)
- [raft 算法详解](https://www.codedump.info/post/20180921-raft/)

## 2022.7.5
### [vscode流程图插件](https://blog.csdn.net/liuxiao723846/article/details/107080388)
### grpc小知识
- [grpc stream请求](https://segmentfault.com/a/1190000016503114)
- [利用Gateway同时提供HTTP和RPC服务](https://www.lixueduan.com/post/grpc/07-grpc-gateway/)

## 2022.7.4
### cockroachdb
- [系统结构](http://doc.cockroachchina.baidu.com/)
### [etcd的应用场景](https://www.cnblogs.com/ricklz/p/15033193.html)

## 2022.6.30
### 局部敏感哈希-LSH
- [介绍](https://ansvver.github.io/lsh_minhash.html)
- [详细计算过程](https://blog.csdn.net/liujan511536/article/details/47729721)
### 消息组件
- [pulsar，文末也有其他常用的组件](https://blog.csdn.net/tcy83/article/details/106731392)

## 2022.6.29
### tso
timestamp oracle 全局授时服务器
- [揭秘 TiDB 5.0 事务分布式授时模块](https://pingcap.com/zh/blog/preliminary-study-on-cross-center-deployment-capability-of-tidb5.0)
- [Placement Driver](https://pingcap.com/zh/blog/placement-driver)
### chrome插件开发
- [详细开发流程](https://xieyufei.com/2021/11/09/Chrome-Plugin.html)
### 数据库权限控制设计
- [snowflake](https://docs.snowflake.com/en/user-guide/security-access-control.html)
- [tidb](https://docs.pingcap.com/zh/tidb/stable/security-compatibility-with-mysql)
- [mysql](http://c.biancheng.net/view/8011.html)
- [cockroach](https://www.modb.pro/db/84160)

## 2022.6.28
### [cobra](https://github.com/spf13/cobra)
- [使用介绍翻译](https://juejin.cn/post/6924541628031959047)
- [template 模版](https://cloud.tencent.com/developer/article/1683688)
- [深入理解template](https://www.cnblogs.com/f-ck-need-u/p/10035768.html)
- [补全](https://developer.aliyun.com/article/770353)

## 2022.6.27
### raft
分布式共识算法
- [raft动画演示](http://www.kailing.pub/raft/index.html)
- [raft论文翻译](https://github.com/maemual/raft-zh_cn/blob/master/raft-zh_cn.md)
- [etcd raft结构分析](https://lessisbetter.site/2019/08/19/etcd-raft-sources-arch/)
- [etcd raft重要数据结构](https://lessisbetter.site/2019/09/05/etcd-raft-sources-structs/)
- [ectd raft数据流](https://lessisbetter.site/2019/08/22/etcd-raft-source-data-flow/)
- [ectd raft源码分析](https://www.cnblogs.com/ricklz/p/15155095.html)

### [fabric](https://github.com/hyperledger/fabric)
开源区块链框架
- [介绍](https://aws.amazon.com/cn/blockchain/what-is-hyperledger-fabric/)
- [博客系列](https://lessisbetter.site/archives/)

## 2022.6.23
### [zap](https://github.com/uber-go/zap)
日志库，小小的log其实也有很多注意事项
- 参考阅读
  - [zap结构基础介绍](https://zhuanlan.zhihu.com/p/74489542)
  - [go 反射机制](https://blog.csdn.net/Solo95/article/details/120751746)
  - [zap使用介绍](https://studygolang.com/articles/28185)
  - [zap sink 自定义日志输出](http://docs.lvrui.io/2020/03/25/go%E8%AF%AD%E8%A8%80zap%E6%97%A5%E5%BF%97%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%87%BA/)
  - [sink 原理](https://segmentfault.com/a/1190000038596043)
  - [增量文件sink](https://github.com/natefinch/lumberjack)
- 函数
  - multierr.Append 拼接多个error


## 2022.6.22
### [milvus-GroupChecker](https://github.com/milvus-io/milvus/blob/master/internal/util/timerecord/group_checker.go)
定时批量处理string
```go
type GroupChecker struct {
	groupName string

	d        time.Duration // check duration
	t        *time.Ticker  // internal ticker
	ch       chan struct{} // closing signal
	lastest  sync.Map      // map member name => lastest report time
	initOnce sync.Once
	stopOnce sync.Once

	fn func(list []string)
}
```
- groupName，组件名称
- d，批量处理间隔
- lastest，string存储map，其中key为string，value为添加的时间
- fn，批量处理string方法，当string过了批量处理的间隔，就是把string列表作为这个函数的参数，然后进行执行
### [milvus-TimeTickedFlowGraph](https://github.com/milvus-io/milvus/blob/master/internal/util/flowgraph/flow_graph.go)
消息流转图，也就是每个消息有序的经过图里面的节点，每个节点对消息都会有相应的处理。在使用过程中，需要先向图里添加节点`AddNode`，然后在将节点进行连接`SetEdges`。
- 图节点
work 节点处理细节，
  - 收集input消息
  - 执行Node的Operate方法处理消息
  - deliverMsg，消息流转到其他节点
```
type nodeCtx struct {
	node                   Node
	inputChannels          []chan Msg
	inputMessages          []Msg
	downstream             []*nodeCtx
	downstreamInputChanIdx map[string]int

	closeCh chan struct{}  // notify work to exit
	closeWg sync.WaitGroup // block Close until work exit
}
```
- 节点
  - Name 节点名称，在一个流程图中用于标识节点
  - Operate 如何处理Msg
```
type Node interface {
	Name() string
	MaxQueueLength() int32
	MaxParallelism() int32
	Operate(in []Msg) []Msg
	IsInputNode() bool
	Start()
	Close()
}
```
  
